<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Modify</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../Intro.html"><strong aria-hidden="true">1.</strong> Intro</a></li><li class="chapter-item expanded "><a href="../Installation.html"><strong aria-hidden="true">2.</strong> Installation</a></li><li class="chapter-item expanded "><a href="../HowItWorks.html"><strong aria-hidden="true">3.</strong> How it Works</a></li><li class="chapter-item expanded "><a href="../Downsides.html"><strong aria-hidden="true">4.</strong> Downsides</a></li><li class="chapter-item expanded "><a href="../1_compiler/index.html"><strong aria-hidden="true">5.</strong> Compiler Options</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../1_compiler/Defines.html"><strong aria-hidden="true">5.1.</strong> Defines</a></li><li class="chapter-item expanded "><a href="../1_compiler/Functions.html"><strong aria-hidden="true">5.2.</strong> Functions</a></li></ol></li><li class="chapter-item expanded "><a href="../2_syntax/index.html"><strong aria-hidden="true">6.</strong> Basic Syntax</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../2_syntax/Comments.html"><strong aria-hidden="true">6.1.</strong> Comments</a></li><li class="chapter-item expanded "><a href="../2_syntax/Semicolons.html"><strong aria-hidden="true">6.2.</strong> Semicolons</a></li><li class="chapter-item expanded "><a href="../2_syntax/Variables.html"><strong aria-hidden="true">6.3.</strong> Variables</a></li><li class="chapter-item expanded "><a href="../2_syntax/Functions.html"><strong aria-hidden="true">6.4.</strong> Functions</a></li><li class="chapter-item expanded "><a href="../2_syntax/Classes.html"><strong aria-hidden="true">6.5.</strong> Classes</a></li><li class="chapter-item expanded "><a href="../2_syntax/Primitives.html"><strong aria-hidden="true">6.6.</strong> Primitives</a></li><li class="chapter-item expanded "><a href="../2_syntax/ControlFlow.html"><strong aria-hidden="true">6.7.</strong> Control Flow</a></li><li class="chapter-item expanded "><a href="../2_syntax/Wrappers.html"><strong aria-hidden="true">6.8.</strong> Wrappers</a></li><li class="chapter-item expanded "><a href="../2_syntax/Enums.html"><strong aria-hidden="true">6.9.</strong> Enums</a></li><li class="chapter-item expanded "><a href="../2_syntax/HaxeMetadata.html"><strong aria-hidden="true">6.10.</strong> Haxe Metadata</a></li></ol></li><li class="chapter-item expanded "><a href="../3_features/index.html"><strong aria-hidden="true">7.</strong> Laxe Features</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../3_features/Modify.html" class="active"><strong aria-hidden="true">7.1.</strong> Modify</a></li><li class="chapter-item expanded "><a href="../3_features/ItBlock.html"><strong aria-hidden="true">7.2.</strong> It Block</a></li><li class="chapter-item expanded "><a href="../3_features/Tuples.html"><strong aria-hidden="true">7.3.</strong> Tuples</a></li><li class="chapter-item expanded "><a href="../3_features/NamedTuples.html"><strong aria-hidden="true">7.4.</strong> Named Tuples</a></li><li class="chapter-item expanded "><a href="../3_features/PositionalUnpack.html"><strong aria-hidden="true">7.5.</strong> Positional Unpack</a></li><li class="chapter-item expanded "><a href="../3_features/NamedUnpack.html"><strong aria-hidden="true">7.6.</strong> Named Unpack</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="modify"><a class="header" href="#modify">Modify</a></h1>
<p>The <code>modify</code> keyword allows one to modify and append content to an existing <code>class</code>, <code>wrapper</code>, or <code>enum</code>. If the type definition is from Laxe, the content is simply merged for being defined in Haxe. On the other hand, if the type cannot be found, it is assumed to be defined in Haxe. In that case, a <code>@:build</code> metadata is used to add the content to the Haxe class (TODO).</p>
<p>This feature can be helpful for separating a class definition into multiple parts in different source files. Alternatively, it can be very helpful for adding variables and functions to existing types defined in other libraries.</p>
<p>To use <code>modify</code>, type the keyword followed by the full class path of the type. Please note any generic arguments, super classes, or interfaces the original type relies upon should not be included.</p>
<pre><code class="language-laxe">class Entity:
	var hp = 0

	def new:
		pass

# ---

modify mypackage.Entity:
	var mp = 0

	def addMagic(value: int):
		mp += value

# ---

var entity = new Entity()
entity.addMagic(23) # valid
</code></pre>
<p>Here is an example of modifying an existing type.</p>
<pre><code class="language-laxe">modify haxe.ds.Vector:
	inline def first -&gt; T:
		if self.length &gt; 0:
			return self.get(0)
		else:
			throw &quot;Could not get first element&quot;
</code></pre>
<h2 id="rename"><a class="header" href="#rename">Rename</a></h2>
<p>The <code>rename</code> keyword allows existing fields and methods to be renamed. Renaming is an important feature for reworking the existing behavior of members for the type definition, as it retains the member while simultaneously making room for the developer to re-create the variable or function with the original name.</p>
<p>In order to add a trace statement to the <code>jump</code> method of the <code>Player</code> class created below, the following <code>modify</code> uses the <code>rename</code> feature to do so without removing the <code>jump</code> behavior.</p>
<pre><code class="language-laxe">class Player:
	var ySpeed = 0

	def jump:
		ySpeed = -10

# ---

modify mypackage.Player:
	# First, rename the jump method
	rename jump to _originalJump

	# Second, create a new jump method
	def jump:
		# The original jump method
		_originalJump()

		# New behavior
		trace(&quot;The player jumped&quot;)

# ---

var player = new Player()

# Both the original jump behavior and the new behavior will be executed
player.jump()
</code></pre>
<h2 id="delete"><a class="header" href="#delete">Delete</a></h2>
<p>The <code>delete</code> keyword deletes an existing field with the same name as the provided identifier.</p>
<pre><code class="language-laxe">class Player:
	var ySpeed = 0

	def jump:
		ySpeed = -10 # throws error, ySpeed does not exist

# ---

modify mypackage.Player:
	delete ySpeed
</code></pre>
<h2 id="replace"><a class="header" href="#replace">Replace</a></h2>
<p>The <code>replace</code> keyword can be prepended to a modify member to automatically delete the existing field with the same name. An error will be thrown if a field with the same name does not exist on the type being modified.</p>
<pre><code class="language-laxe">class Player:
	var ySpeed = 0

	def jump:
		ySpeed = -10

# ---

modify mypackage.Player:
	replace def jump:
		ySpeed = -12
		onJump()

	def onJump:
		pass
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../3_features/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../3_features/ItBlock.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../3_features/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../3_features/ItBlock.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
